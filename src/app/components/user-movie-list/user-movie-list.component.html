<h1 class="flex items-center gap-3 text-2xl font-semibold" [ngClass]="colorClass">
  <span
    class="flex items-center justify-center w-9 h-9 rounded-full
          bg-gradient-to-br from-neutral-800 to-neutral-950 shadow-md"
    [ngSwitch]="icon">

    <!-- Heart -->
    <svg *ngSwitchCase="'heart'" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.5 8L21 8H3z"/>
    </svg>

    <!-- Bookmark -->
    <svg *ngSwitchCase="'bookmark'" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M5 4h14v16l-7-4-7 4V4z"/>
    </svg>

    <!-- Default / optional -->
    <svg *ngSwitchDefault class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
    </svg>

  </span>

  <span class="relative tracking-wide">
    {{ title }}
    <span class="absolute left-0 -bottom-1 w-full h-[2px] rounded" [ngClass]="colorClass"></span>
  </span>
</h1>


@if (movies().length > 0) {
  <div class="mt-6 divide-y divide-neutral-800 bg-neutral-800/60">
    @for (movie of movies(); track movie.id) {
      <div class="flex items-start justify-between gap-4 py-5 px-3 transition" (mouseenter)="loadCredits(movie.id)">

        <!-- Poster -->
        <img
          [routerLink]="['/movie', movie.id]"
          class="w-[72px] h-[108px] object-cover rounded shadow cursor-pointer transition hover:shadow-lg hover:brightness-[0.94]"
          [src]="movie.posterUrl"
          [alt]="movie.title"
        />

        <!-- Info -->
        <div class="flex-1 min-w-0 pt-1">
          <p [routerLink]="['/movie', movie.id]" class="text-lg font-semibold truncate cursor-pointer hover:text-zinc-300 transition">
            {{ movie.title }} ({{ movie.year }})
          </p>
          <p class="text-sm text-gray-400">
            Rating: {{ movie.rating }}
          </p>
          <p class="text-sm text-gray-400 truncate">
            {{ movie.description }}
          </p>

          <!-- Lazy-loaded credits -->
          <p class="text-sm text-gray-400 mt-0.5" *ngIf="creditsMap()[movie.id]?.director">
            Director: {{ creditsMap()[movie.id].director }}
          </p>
          <p class="text-sm text-gray-400 mt-0.5" *ngIf="creditsMap()[movie.id]?.actors">
            Stars: {{ creditsMap()[movie.id].actors }}
          </p>
        </div>

        <!-- Remove button -->
        <button
          (click)="onRemove(movie.id, $event)"
          class="w-9 h-9 flex items-center justify-center rounded-full text-gray-500 hover:text-red-500 hover:bg-red-600/20 transition"
          aria-label="Remove">
          <svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 6h18"/>
            <path d="M8 6V4h8v2"/>
            <rect x="6" y="6" width="12" height="14" rx="1"/>
          </svg>
        </button>

      </div>
    }
  </div>
} @else {
  <p class="mt-6 text-gray-500">{{ emptyText }}</p>
}




<!-- 
<h1 class="flex items-center gap-3 text-2xl font-semibold" [ngClass]="colorClass">
	<span
		class="flex items-center justify-center w-9 h-9 rounded-full
			bg-gradient-to-br from-neutral-800 to-neutral-950 shadow-md">
		@switch (icon) {
		@case ('heart') {
			<svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
			<path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.5 8L21 8H3z"/>
			</svg>
		}
		@case ('bookmark') {
			<svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
			<path stroke-linecap="round" stroke-linejoin="round" d="M5 4h14v16l-7-4-7 4V4z"/>
			</svg>
		}
		}
	</span>
	<span class="relative tracking-wide">
		{{ title }}
		<span
		class="absolute left-0 -bottom-1 w-full h-[2px] rounded"
		[ngClass]="colorClass">
		</span>
	</span>
	</h1>
	@if (movies().length > 0) {
	<div class="mt-6 divide-y divide-neutral-800 bg-neutral-800/60">
		@for (movie of movies(); track movie.id) {
		<div class="flex items-center justify-between gap-4 py-5 px-3 transition">

  <div class="flex gap-4 min-w-0">

    <img
      [routerLink]="['/movie', movie.id]"
      class="w-[72px] h-[108px] object-cover rounded shadow
             cursor-pointer transition
             hover:shadow-lg hover:brightness-[0.94]"
      [src]="'https://image.tmdb.org/t/p/w185' + movie.poster"
      [alt]="movie.title"
    />

    <div class="max-w-md min-w-0 pt-2">
      <p
        [routerLink]="['/movie', movie.id]"
        class="text-lg tracking-wide font-semibold
               cursor-pointer truncate
               hover:text-zinc-300 transition">
        {{ movie.title }}
      </p>
    </div>

  </div>

  <button
    (click)="onRemove(movie.id, $event)"
    class="w-9 h-9 flex items-center justify-center
           rounded-full text-gray-500
           hover:text-red-500 hover:bg-red-600/20 transition"
    aria-label="Remove">

    <svg
      viewBox="0 0 24 24"
      class="w-5 h-5"
      fill="none"
      stroke="currentColor"
      stroke-width="2">
      <path d="M3 6h18"/>
      <path d="M8 6V4h8v2"/>
      <rect x="6" y="6" width="12" height="14" rx="1"/>
    </svg>

  </button>
</div>

		}
	</div>
	} @else {
	<p class="mt-6 text-gray-500">{{ emptyText }}</p>
}
 -->